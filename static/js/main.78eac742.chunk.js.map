{"version":3,"sources":["context/index.tsx","layout/Main/components/Topbar/Topbar.jsx","layout/Main/MainLayout.jsx","Routes.js","theme/LightTheme/palette.js","theme/LightTheme/typography.js","theme/LightTheme/overrides/index.js","theme/LightTheme/overrides/MuiButton.js","theme/LightTheme/overrides/MuiIconButton.js","theme/LightTheme/overrides/MuiPaper.js","theme/LightTheme/overrides/MuiTableCell.js","theme/LightTheme/overrides/MuiTableHead.js","theme/LightTheme/overrides/MuiTypography.js","theme/LightTheme/index.js","App.tsx","reportWebVitals.ts","index.tsx","context/connection-conext.tsx"],"names":["AppProvider","props","children","useStyles","makeStyles","theme","root","boxShadow","height","flexGrow","button","marginLeft","spacing","image","width","Topbar","handleSidebar","AppBar","Toolbar","Typography","variant","paddingTop","breakpoints","up","content","padding","Main","classes","useState","setOpenSidebar","className","old","Home","lazy","ChatBox","AppRoutes","path","element","MainLayout","white","black","green","primary","contrastText","dark","main","light","secondary","colors","blue","success","info","warning","orange","error","red","text","blueGrey","link","background","default","icon","divider","grey","h1","color","palette","fontWeight","fontSize","letterSpacing","lineHeight","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","overline","textTransform","MuiButton","contained","backgroundColor","MuiIconButton","MuiPaper","elevation1","MuiTableCell","typography","borderBottom","MuiTableHead","MuiTypography","gutterBottom","marginBottom","createMuiTheme","overrides","zIndex","appBar","drawer","mixins","toolbar","minHeight","App","fallback","Backdrop","open","CircularProgress","ThemeProvider","lightTheme","Paper","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","client","initialState","messages","setUp","name","type","roomId","ConnectionContext","React","dispatch","state","displayName","useClientReducer","action","payload","close","W3CWebSocket","onopen","console","log","onmessage","message","data","connectionHandler","navigateTO","list","concat","JSON","parse","send","stringify","ConnectionProvider","Provider","value","useConnection","context","undefined","Error"],"mappings":"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","file":"static/js/main.78eac742.chunk.js","sourcesContent":["import React from \"react\"\nimport { ConnectionProvider } from \"./connection-conext\"\n\ninterface Props {\n  children: JSX.Element\n}\n\nconst AppProvider = (props: Props) => {\n  const { children } = { ...props }\n  return <ConnectionProvider>{children}</ConnectionProvider>\n}\n\nexport default AppProvider\n","import React from \"react\"\nimport { Typography } from \"@material-ui/core\"\n//material components\nimport AppBar from \"@material-ui/core/AppBar\"\nimport Toolbar from \"@material-ui/core/Toolbar\"\nimport { makeStyles } from \"@material-ui/styles\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    boxShadow: \"none\",\n    height: 48,\n  },\n  flexGrow: {\n    flexGrow: 1,\n  },\n  button: {\n    marginLeft: theme.spacing(1),\n  },\n  image: {\n    width: \"85px\",\n    height: \"50px\",\n  },\n}))\nfunction Topbar({ handleSidebar }) {\n  const classes = useStyles()\n\n  return (\n    <>\n      <AppBar>\n        <Toolbar>\n          <Typography variant=\"h6\">Anonymous Chat</Typography>\n        </Toolbar>\n      </AppBar>\n    </>\n  )\n}\n\nexport default Topbar\n","import React, { useState } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from \"@material-ui/styles\"\nimport { Outlet } from \"react-router-dom\"\nimport { Topbar } from \"./components\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingTop: 56,\n    height: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      paddingTop: 56,\n    },\n  },\n  content: {\n    height: \"100%\",\n    padding: 10,\n  },\n}))\n\nconst Main = (props) => {\n  const classes = useStyles()\n  const [openSidebar, setOpenSidebar] = useState(false)\n  const handleSidebar = () => {\n    setOpenSidebar((old) => (old ? false : true))\n  }\n\n  return (\n    <div className={classes.root}>\n      <Topbar handleSidebar={handleSidebar} />\n      <main className={classes.content}>\n        <Outlet />\n      </main>\n    </div>\n  )\n}\n\nMain.propTypes = {\n  children: PropTypes.node,\n}\n\nexport default Main\n","import React, { lazy } from \"react\"\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\"\nimport MainLayout from \"./layout/Main\"\n\n//lazy imports\nconst Home = lazy(() => import(\"./views/home\"))\nconst ChatBox = lazy(() => import(\"./views/chat-box\"))\n\nexport default function AppRoutes() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<MainLayout />}>\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/chat-box\" element={<ChatBox />} />\n        </Route>\n      </Routes>\n    </BrowserRouter>\n  )\n}\n","import { colors } from \"@material-ui/core\"\n\nconst white = \"#FFFFFF\"\nconst black = \"#000000\"\nconst green = \"#8DC63F\"\nexport default {\n  black,\n  green,\n  white,\n  primary: {\n    contrastText: \"#fff\",\n    dark: \"#0276aa\",\n    main: \"#03a9f4\",\n    light: \"#35baf6\",\n  },\n  secondary: {\n    contrastText: white,\n    dark: colors.blue[900],\n    main: colors.blue[\"A400\"],\n    light: colors.blue[\"A400\"],\n  },\n  success: {\n    contrastText: white,\n    dark: colors.green[900],\n    main: colors.green[600],\n    light: colors.green[400],\n  },\n  info: {\n    contrastText: white,\n    dark: colors.blue[900],\n    main: colors.blue[600],\n    light: colors.blue[400],\n  },\n  warning: {\n    contrastText: white,\n    dark: colors.orange[900],\n    main: colors.orange[600],\n    light: colors.orange[400],\n  },\n  error: {\n    contrastText: white,\n    dark: colors.red[900],\n    main: colors.red[600],\n    light: colors.red[400],\n  },\n  text: {\n    primary: colors.blueGrey[900],\n    secondary: colors.blueGrey[600],\n    link: colors.blue[600],\n  },\n  background: {\n    default: \"#F4F6F8\",\n  },\n  icon: colors.blueGrey[600],\n  divider: colors.grey[200],\n}\n","import palette from \"./palette\"\n\nexport default {\n  h1: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: \"35px\",\n    letterSpacing: \"-0.24px\",\n    lineHeight: \"40px\",\n  },\n  h2: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: \"29px\",\n    letterSpacing: \"-0.24px\",\n    lineHeight: \"32px\",\n  },\n  h3: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: \"24px\",\n    letterSpacing: \"-0.06px\",\n    lineHeight: \"28px\",\n  },\n  h4: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: \"20px\",\n    letterSpacing: \"-0.06px\",\n    lineHeight: \"24px\",\n  },\n  h5: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: \"16px\",\n    letterSpacing: \"-0.05px\",\n    lineHeight: \"20px\",\n  },\n  h6: {\n    color: palette.text.primary,\n    fontWeight: 500,\n    fontSize: \"14px\",\n    letterSpacing: \"-0.05px\",\n    lineHeight: \"20px\",\n  },\n  subtitle1: {\n    color: palette.text.primary,\n    fontSize: \"16px\",\n    letterSpacing: \"-0.05px\",\n    lineHeight: \"25px\",\n  },\n  subtitle2: {\n    color: palette.text.secondary,\n    fontWeight: 400,\n    fontSize: \"14px\",\n    letterSpacing: \"-0.05px\",\n    lineHeight: \"21px\",\n  },\n  body1: {\n    color: palette.text.primary,\n    fontSize: \"14px\",\n    letterSpacing: \"-0.05px\",\n    lineHeight: \"21px\",\n  },\n  body2: {\n    color: palette.text.secondary,\n    fontSize: \"12px\",\n    letterSpacing: \"-0.04px\",\n    lineHeight: \"18px\",\n  },\n  button: {\n    color: palette.text.primary,\n    fontSize: \"14px\",\n  },\n  caption: {\n    color: palette.text.secondary,\n    fontSize: \"11px\",\n    letterSpacing: \"0.33px\",\n    lineHeight: \"13px\",\n  },\n  overline: {\n    color: palette.text.secondary,\n    fontSize: \"16px\",\n    fontWeight: 700,\n    letterSpacing: \"0.33px\",\n    lineHeight: \"13px\",\n    textTransform: \"uppercase\",\n  },\n}\n","import MuiButton from \"./MuiButton\"\nimport MuiIconButton from \"./MuiIconButton\"\nimport MuiPaper from \"./MuiPaper\"\nimport MuiTableCell from \"./MuiTableCell\"\nimport MuiTableHead from \"./MuiTableHead\"\nimport MuiTypography from \"./MuiTypography\"\n\nexport default {\n  MuiButton,\n  MuiIconButton,\n  MuiPaper,\n  MuiTableCell,\n  MuiTableHead,\n  MuiTypography,\n}\n","export default {\n  contained: {\n    boxShadow:\n      \"0 1px 1px 0 rgba(0,0,0,0.14), 0 2px 1px -1px rgba(0,0,0,0.12), 0 1px 3px 0 rgba(0,0,0,0.20)\",\n    backgroundColor: \"#FFFFFF\",\n  },\n}\n","import palette from \"../palette\"\n\nexport default {\n  root: {\n    color: palette.icon,\n    \"&:hover\": {\n      backgroundColor: \"rgba(0, 0, 0, 0.03)\",\n    },\n  },\n}\n","export default {\n  elevation1: {\n    boxShadow: \"0 0 0 1px rgba(63,63,68,0.05), 0 1px 3px 0 rgba(63,63,68,0.15)\",\n  },\n}\n","import palette from \"../palette\"\nimport typography from \"../typography\"\n\nexport default {\n  root: {\n    ...typography.body1,\n    borderBottom: `1px solid ${palette.divider}`,\n  },\n}\n","import { colors } from \"@material-ui/core\"\n\nexport default {\n  root: {\n    backgroundColor: colors.grey[50],\n  },\n}\n","export default {\n  gutterBottom: {\n    marginBottom: 8,\n  },\n}\n","import { createMuiTheme } from \"@material-ui/core\"\n\nimport palette from \"./palette\"\nimport typography from \"./typography\"\nimport overrides from \"./overrides\"\n\nconst theme = createMuiTheme({\n  palette,\n  typography,\n  overrides,\n  zIndex: {\n    appBar: 1200,\n    drawer: 1100,\n  },\n  mixins: {\n    toolbar: {\n      minHeight: 48,\n      \"@media (min-width:0px) and (orientation: landscape)\": {\n        minHeight: 48,\n      },\n      \"@media (min-width:600px)\": {\n        minHeight: 48,\n      },\n    },\n  },\n})\n\nexport default theme\n","import React, { Suspense } from \"react\"\nimport \"./App.css\"\nimport AppProvider from \"./context/\"\nimport AppRoutes from \"./Routes\"\nimport lightTheme from \"./theme/LightTheme\"\n// import darkTheme from \"./theme/DarkTheme\";\nimport { ThemeProvider } from \"@material-ui/styles\"\nimport Paper from \"@material-ui/core/Paper\"\nimport Backdrop from \"@material-ui/core/Backdrop\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\n\nfunction App() {\n  return (\n    <Suspense\n      fallback={\n        <Backdrop open={true}>\n          <CircularProgress />\n        </Backdrop>\n      }\n    >\n      <ThemeProvider theme={lightTheme}>\n        <AppProvider>\n          <Paper>\n            <AppRoutes />\n          </Paper>\n        </AppProvider>\n      </ThemeProvider>\n    </Suspense>\n  )\n}\n\nexport default App\n","import { ReportHandler } from \"web-vitals\"\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport reportWebVitals from \"./reportWebVitals\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","import * as React from \"react\"\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\"\nconst host = \"ws://18.223.116.143:8000\"\nconst initialState = {\n  messages: [],\n  setUp: {\n    name: \"\",\n    type: \"\",\n    roomId: \"\",\n  },\n}\nvar client: W3CWebSocket\nconst ConnectionContext = React.createContext<Context>({\n  dispatch: () => {},\n  state: initialState,\n})\nConnectionContext.displayName = \"ConnectionContext\"\n\ntype Message = {\n  text: string\n}\ntype setUp = {\n  name: string\n  type: string\n  roomId: string\n}\n\ntype State = {\n  messages: Message[]\n  setUp: setUp\n}\ntype Action = {\n  payload?: any\n  type: string\n}\n\ntype Context = {\n  state: State\n  dispatch: React.Dispatch<Action>\n}\ntype connection = {\n  dispatch: React.Dispatch<Action>\n  name: string\n  roomId: string\n  type: string\n}\n\nconst connectionHandler = ({ dispatch, name, roomId, type }: connection) => {\n  if (client) client.close()\n  client = new W3CWebSocket(`${host}?name=${name}&type=${type}&roomId=${roomId}`)\n  client.onopen = (): void => {\n    console.log(\"WebSocket Client Connected\")\n  }\n  client.onmessage = (message) => {\n    dispatch({ type: \"message\", payload: message.data })\n  }\n}\n\nfunction useClientReducer(state: State, action: Action): State {\n  switch (action.type) {\n    case \"set-up\":\n      return { ...state, setUp: { ...action.payload } }\n    case \"connect\":\n      connectionHandler(action.payload)\n      action.payload.navigateTO(\"chat-box\")\n      return state\n    case \"message\":\n      let list = state.messages.concat(JSON.parse(action.payload))\n      return { ...state, messages: list }\n    case \"send-message\":\n      client.send(JSON.stringify(action.payload))\n      return state\n    default:\n      return state\n  }\n}\n\nconst ConnectionProvider: React.FC = ({ children }) => {\n  const [state, dispatch] = React.useReducer(useClientReducer, initialState)\n\n  return (\n    <ConnectionContext.Provider\n      value={{\n        state: state,\n        dispatch: dispatch,\n      }}\n    >\n      {children}\n    </ConnectionContext.Provider>\n  )\n}\n\nconst useConnection = () => {\n  const context = React.useContext(ConnectionContext)\n  if (context === undefined) {\n    throw new Error(`useAuth must be used within an AuthProvider`)\n  }\n  return context\n}\n\nexport { useConnection, ConnectionProvider }\n"],"sourceRoot":""}